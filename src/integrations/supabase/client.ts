// This file is automatically generated. Do not edit it directly.
import { createClient } from '@supabase/supabase-js';
import type { Database } from './types';

// Leggi le variabili d'ambiente (definite nel file .env o dall'hosting)
const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;

// *** LOG TEMPORANEO PER DEBUG ***
console.log("[Supabase Client Init] Reading VITE_SUPABASE_URL:", supabaseUrl ? supabaseUrl.substring(0, 20) + '...' : 'NOT FOUND');
console.log("[Supabase Client Init] Reading VITE_SUPABASE_ANON_KEY:", supabaseAnonKey ? supabaseAnonKey.substring(0, 10) + '...' : 'NOT FOUND');
// *** FINE LOG TEMPORANEO ***

// Verifica che le variabili siano state caricate correttamente
if (!supabaseUrl || !supabaseAnonKey) {
  console.error('Supabase URL or Anon Key is missing. Make sure VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY are set in your environment.');
  // Potresti voler lanciare un errore qui o gestire il caso in modo diverso
  // throw new Error("Supabase URL or Anon Key is missing from environment variables.");
}

// Esporta il client Supabase inizializzato
// Assicurati che le variabili siano definite prima di creare il client
export const supabase = createClient<Database>(
  supabaseUrl || '', // Usa stringa vuota come fallback se non definite (ma il check sopra dovrebbe prevenirlo)
  supabaseAnonKey || ''
);